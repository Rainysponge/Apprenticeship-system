{% extends 'base.html' %}
{% block title %}__未定___{% endblock %}
{% load staticfiles %}

<!-- context['user_out'] = user
context['teacher'] = user.teacher -->


{% block content %}
    <br>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="card" style="width: 18rem;">
                    <img src="{{ user_out.Profile.photo_resize_url }}"height="208" width="74" class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title" style="text-align: center;" >{{ teacher.teacher_name }}的教师卡片</h5>
                      <p class="card-text">自认为比较擅长{{ teacher.skill }}哦</p>
                    </div>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">{{ user_out.Profile.school }}</li>
                      <li class="list-group-item">{{ user_out.Profile.grade }}</li>
                      <li class="list-group-item">{{ user_out.Profile.major }}</li>
                    </ul>
                    <div class="card-body">
                        <form action="{% url 'Apprentice_request' teacher.pk %}" method="POST" style="overflow:hidden">
                            {% csrf_token %}
    
                            <input type="hidden" name="use" value="#">
                            <button type="submit" class="btn btn-info" onclick="apprenticeRequire()">申请拜师</button>
    
                        </form> 
                      <!-- <a href="#" class="card-link">Another link</a> -->
                    </div>
                  </div>
            </div>
            <div class="col-md-8">
                <h3 class="commet-area-title" style="text-align: center;border-bottom: 1px solid #ccc;padding-bottom: 0.4em">经历以及获奖记录</h3>
                {% if teacher.self_introduction %}
                
                    <p aligin="left">
                    
                        {% autoescape off %}

                        {{ teacher.self_introduction }}

                        {% endautoescape %}
                    </p>
                {% else %}
                <p aligin="left">
                    
                    他很神秘,什么也没留下!
                </p>
                {% endif %}

                <!-- <button type="button" class="btn btn-primary" href="#">修改师傅您的信息</button> -->
                <!-- <hr> -->
                <br>
                <div class="comment-area" style="margin-top: 2em">
                    <h3 class="commet-area-title" style="border-bottom: 1px solid #ccc;padding-bottom: 0.4em;text-align: center;">
                        来自"徒弟"们祝福
                    </h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover">
                        <tbody>
                            {% for comment in comments %}
                                <tr>
                                    <td style="width: 15em">{{ comment.user.username }}
                                    ({{ comment.comment_time |date:"Y-m-d H:n:s" }})</td>
                                    <td>
                                        {% autoescape off %}
                                        {{ comment.text }}
                                        {% endautoescape %}
                                    <p></p><button type="button" class="btn btn-outline-info btn-sm">预览</button>
                                    <button type="button" class="btn btn-outline-primary btn-sm">编辑</button>
                                    </td>
                                </tr>
                            {% empty %}

                            {% endfor %}
                        </tbody>
                        </table>
                    </div>
                </div>
                    <form action="#" method="post">

                        {% csrf_token %}
                        <textarea class="form-control" id="comment_text" name="text" rows="3"></textarea>
                        <input type="hidden" name="object_id" value="{{ user_pk }}">
                        <input type="hidden" name="content_type" value="#">
                        <br>
                        <div class="divForButton" style="text-align: right;">
                            <button type="submit" class="btn btn-info">提交评论</button>
                        </div>
                        
                    </form>
            </div>
        </div>
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
           
<!-- {#                {% else %}#}
{#                    尚未登录，登录之后方可评论#}
{#                    <a href="{% url 'login' %}?from={{ request.get_full_path }}">登录</a>#}
{#                    <span>or</span>#}
{#                    <a href="{% url 'register' %}?from={{ request.get_full_path }}">注册</a>#}
{#                {% endif %}#}
{#                </div>#} -->

<script>
    function apprenticeRequire(){
        alert('请求已经发送！');
    }
</script>

{% endblock %}
